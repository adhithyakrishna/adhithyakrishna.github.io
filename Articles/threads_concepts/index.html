<!doctype html><html lang=en class="js csstransforms3d"><head><meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://adhithyakrishna.github.io/images/cover.jpg"><meta prefix="og: http://ogp.me/ns#" property="og:title" content="Threads concepts"><meta prefix="og: http://ogp.me/ns#" property="og:type" content="article"><meta prefix="og: http://ogp.me/ns#" property="article:author" content="https://www.linkedin.com/in/adhithya-krishna/"><meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://adhithyakrishna.github.io//articles/threads_concepts/"><meta name=author content="Adhithyakrishna"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.71.0"><meta name=description content="A blog about my journey as a software engineer"><meta prefix="og: http://ogp.me/ns#" property="og:description" content="A blog about my journey as a software engineer"><meta name=author content="Adhithyakrishna"><link rel=icon href=/images/favicon.png type=image/png><title>Threads concepts :: Adhithyakrishna</title><link href=/css/nucleus.css?1609346105 rel=stylesheet><link href=/css/fontawesome-all.min.css?1609346105 rel=stylesheet><link href=/css/hybrid.css?1609346105 rel=stylesheet><link href=/css/featherlight.min.css?1609346105 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1609346105 rel=stylesheet><link href=/css/auto-complete.css?1609346105 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1609346105 rel=stylesheet><link href=/css/theme.css?1609346105 rel=stylesheet><link href=/css/hugo-theme.css?1609346105 rel=stylesheet><link href=/css/theme-adhi.css?1609346105 rel=stylesheet><link href=/css/custom.css?1609346105 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1609346105></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/articles/threads_concepts/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://adhithyakrishna.github.io/><i class="fab fa-autoprefixer fa-5x"></i></a></div><h5>I advocate for creative independance</h5><section id=shortcuts><ul><li><a class="padding 10" target=_blank href=https://github.com/adhithyakrishna><i class="fab fa-github"></i>Github</a></li><li><a class="padding 11" target=_blank href=https://www.linkedin.com/in/adhithya-krishna/><i class="fab fa-linkedin"></i>LinkedIn</a></li><li><a download=adhithya_resume class="padding 20" href=https://adhithyakrishna.github.io/attachments.files/adhithya_resume.pdf><i class="fas fa-download"></i>Download Resume</a></li></ul></section></div><div class=searchBar><h3>Search Articles</h3><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1609346105></script><script type=text/javascript src=/js/auto-complete.js?1609346105></script><script type=text/javascript>var baseurl="https:\/\/adhithyakrishna.github.io\/";</script><script type=text/javascript src=/js/search.js?1609346105></script><section id=tags><section id=shortcuts><ul><li><a class=padding href=https://adhithyakrishna.github.io/tags><i class="fas fa-tags"></i>Search by Tags</a></li></ul></section></section></div><div class=highlightable><section id=Articles><h3>Categories</h3><ul class=topics><li data-nav-id=/articles/ title=Articles class="dd-item
parent"><a href=/articles/><i class="fas fa-code fa-lg"></i>Articles</a></li></ul></section><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>Dev journal</a> > <a href=/articles/>Articles</a> > Threads concepts</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#concepts>Concepts</a></li><li><a href=#next-article>Next Article</a></li><li><a href=#reference>Reference</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/threads>Threads</a>
<a class=tag-link href=/tags/concurrency>Concurrency</a></div></div><div id=body-inner><hr><h3 id=concepts>Concepts</h3><h4 id=1-thread-creation>1) Thread creation</h4><p>There are two ways to create threads</p><ol><li>Extending a thread class</li><li>Implementing a Runnable interface</li></ol><div class="notices info"><p>It is recommended to use runnable interfaces because, class can extend only a single class because of the Java&rsquo;s lack of support to multiple inheritence, but a class can implement multiple interfaces.</p></div><p>Threads can also be created using anonymous classes like
below</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Thread thread1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Thread<span style=color:#f92672>(</span><span style=color:#66d9ef>new</span> Runnable<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
		<span style=color:#a6e22e>@Override</span>
		<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>run</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
			<span style=color:#66d9ef>for</span> <span style=color:#f92672>(</span><span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span> i <span style=color:#f92672>&lt;</span> 5<span style=color:#f92672>;</span> i<span style=color:#f92672>++)</span> <span style=color:#f92672>{</span>
				System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;Hello: &#34;</span> <span style=color:#f92672>+</span> i<span style=color:#f92672>);</span>
				<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
					Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>100<span style=color:#f92672>);</span>
				<span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>InterruptedException e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
					e<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>
				<span style=color:#f92672>}</span>
			<span style=color:#f92672>}</span>
		<span style=color:#f92672>}</span>
	<span style=color:#f92672>});</span>
</code></pre></div><div class="notices info"><p><strong>thread1.start()</strong> spawns a new thread and invokes the run function and
<strong>thread.join()</strong> waits for the completion of thread execution before it executes the next block of code.</p></div><h4 id=2-volatile-keyword>2) Volatile keyword</h4><p>The <strong>volatile</strong> keyword is used when a value of the variable is modified by different threads. Usage of volatile keyword would make the resource thread safe. Instead of caching the data, java retrieves the value of the variable from the main memory. This can be very useful if you want multiple threads to behave certain way. For example, if you want to stop a thread based on the value of a variable, declaring the variable as a volatile variable would make sure that the threads stop as soon as the variable changes.</p><h4 id=3-synchronized-keyword>3) Synchronized keyword</h4><p>Synchronized block is to prevent critical section from being accessed by multiple threads at the same time. When two threads access the same resources, there are chances for <em>race condition</em>. <strong>race condition</strong> is when multiple threads access the same resource at the same time, when one thread races to complete execution before the other. The obvious downside to this is the data inconsistency. To overcome this we can make the critical section (method that utilises the shared resources) <em>Synchronized</em>. This would prevent multiple threads trying to access the same section at the same time and would give access to only a single thread.</p><p>Java provides two synchronization idioms</p><ol><li>Method synchronization</li><li>Block synchronization</li></ol><div class="notices info"><p>When thread enters into synchronized instance method or block, it acquires <strong>Object level lock</strong>. If it enters into static synchronized method or block, it acquires <strong>class level lock</strong>. The lock is released when thread exits the block of code.</p></div><h4 id=4-synchronization-on-objects>4) Synchronization on objects</h4><p>The problem with synchronizing on methods is that, the intrinsic lock is obtained on the object of the class, which means, no other function within the class can be accessed by any other thread until the current thread exits the critical section. To overcome this, we can create java objects and synchronize on them.</p><h5 id=example-to-demonstrate-synchronizing-on-object-vs-methods>Example to demonstrate synchronizing on object vs methods</h5><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#75715e>/*
</span><span style=color:#75715e> *	Synchronizing on object
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>private</span> Object lock1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Object<span style=color:#f92672>();</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>stageOne</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

	<span style=color:#66d9ef>synchronized</span> <span style=color:#f92672>(</span>lock1<span style=color:#f92672>)</span> <span style=color:#f92672>{</span> <span style=color:#75715e>// The lock is on the lock1 object
</span><span style=color:#75715e></span>		System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;inside 1&#34;</span><span style=color:#f92672>);</span>
		<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
			Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>1<span style=color:#f92672>);</span>
		<span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>InterruptedException e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
			e<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>
		<span style=color:#f92672>}</span>

		list1<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>random<span style=color:#f92672>.</span><span style=color:#a6e22e>nextInt</span><span style=color:#f92672>(</span>100<span style=color:#f92672>));</span>
		System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;leaving 1&#34;</span><span style=color:#f92672>);</span>
	<span style=color:#f92672>}</span>
<span style=color:#f92672>}</span>



<span style=color:#75715e>/*
</span><span style=color:#75715e> *	Synchronizing on method
</span><span style=color:#75715e> */</span>
<span style=color:#66d9ef>public</span> synchronize <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>stageOne</span><span style=color:#f92672>()</span> <span style=color:#f92672>{</span>

	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;inside 1&#34;</span><span style=color:#f92672>);</span>
	<span style=color:#66d9ef>try</span> <span style=color:#f92672>{</span>
		Thread<span style=color:#f92672>.</span><span style=color:#a6e22e>sleep</span><span style=color:#f92672>(</span>1<span style=color:#f92672>);</span>
	<span style=color:#f92672>}</span> <span style=color:#66d9ef>catch</span> <span style=color:#f92672>(</span>InterruptedException e<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
		e<span style=color:#f92672>.</span><span style=color:#a6e22e>printStackTrace</span><span style=color:#f92672>();</span>
	<span style=color:#f92672>}</span>

	list1<span style=color:#f92672>.</span><span style=color:#a6e22e>add</span><span style=color:#f92672>(</span>random<span style=color:#f92672>.</span><span style=color:#a6e22e>nextInt</span><span style=color:#f92672>(</span>100<span style=color:#f92672>));</span>
	System<span style=color:#f92672>.</span><span style=color:#a6e22e>out</span><span style=color:#f92672>.</span><span style=color:#a6e22e>println</span><span style=color:#f92672>(</span><span style=color:#e6db74>&#34;leaving 1&#34;</span><span style=color:#f92672>);</span>
<span style=color:#f92672>}</span>
</code></pre></div><h3 id=next-article>Next Article</h3><h4 id=a-href-thread-pools-target_blankthread-poolsa><a href=/thread-pools target=_blank>Thread pools</a></h4><h3 id=reference>Reference</h3><h4 id=a-href-httpscaveofprogrammingcomjava-multithreadingjava-multithreading-video-tutorial-part-1-starting-threadshtml-target_blankthreading---cave-of-programming-part-1a><a href=https://caveofprogramming.com/java-multithreading/java-multithreading-video-tutorial-part-1-starting-threads.html target=_blank>Threading - Cave of programming Part 1</a></h4><hr><footer class=footline><div class=date>Date published : July 23, 2020</h5></footer></div></div><div id=footer>I am actively seeking a fulltime opportunity as a software developer and would be available to start in <b>February 2021</b>.<br><br>I possess a solid knowledge of building scalable web applications.<br><br>If you are hiring or know anyone who is looking for a software developer, please reach out to me at akrishna.cse21@gmail.com or on my <a target=_blank href=https://www.linkedin.com/in/adhithya-krishna/>Linkedin</a>.</div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1609346105></script><script src=/js/perfect-scrollbar.min.js?1609346105></script><script src=/js/perfect-scrollbar.jquery.min.js?1609346105></script><script src=/js/jquery.sticky.js?1609346105></script><script src=/js/featherlight.min.js?1609346105></script><script src=/js/highlight.pack.js?1609346105></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1609346105></script><script src=/js/learn.js?1609346105></script><script src=/js/hugo-learn.js?1609346105></script><link href=/mermaid/mermaid.css?1609346105 rel=stylesheet><script src=/mermaid/mermaid.js?1609346105></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>