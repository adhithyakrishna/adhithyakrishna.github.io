<!doctype html><html lang=en class="js csstransforms3d"><head><meta prefix="og: http://ogp.me/ns#" property="og:image" content="https://adhithyakrishna.github.io/images/cover.jpg"><meta prefix="og: http://ogp.me/ns#" property="og:title" content="Add characters to make Palindrome KMP"><meta prefix="og: http://ogp.me/ns#" property="og:type" content="article"><meta prefix="og: http://ogp.me/ns#" property="article:author" content="https://www.linkedin.com/in/adhithya-krishna/"><meta prefix="og: http://ogp.me/ns#" property="og:url" content="https://adhithyakrishna.github.io//coding-questions/short-palindrome-kmp/"><meta name=author content="Adhithyakrishna"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.71.0"><meta name=description content="Application of KMP algorithm. This problem focuses on finding shortest palidrome by adding characters to the front of it."><meta prefix="og: http://ogp.me/ns#" property="og:description" content="Application of KMP algorithm. This problem focuses on finding shortest palidrome by adding characters to the front of it."><meta name=author content="Adhithyakrishna"><link rel=icon href=/images/favicon.png type=image/png><title>Add characters to make Palindrome KMP :: Adhithyakrishna</title><link href=/css/nucleus.css?1609344435 rel=stylesheet><link href=/css/fontawesome-all.min.css?1609344435 rel=stylesheet><link href=/css/hybrid.css?1609344435 rel=stylesheet><link href=/css/featherlight.min.css?1609344435 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1609344435 rel=stylesheet><link href=/css/auto-complete.css?1609344435 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1609344435 rel=stylesheet><link href=/css/theme.css?1609344435 rel=stylesheet><link href=/css/hugo-theme.css?1609344435 rel=stylesheet><link href=/css/theme-adhi.css?1609344435 rel=stylesheet><link href=/css/custom.css?1609344435 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1609344435></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/coding-questions/short-palindrome-kmp/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=https://adhithyakrishna.github.io/><i class="fab fa-autoprefixer fa-5x"></i></a></div><h5>I advocate for creative independance</h5><section id=shortcuts><ul><li><a class="padding 10" target=_blank href=https://github.com/adhithyakrishna><i class="fab fa-github"></i>Github</a></li><li><a class="padding 11" target=_blank href=https://www.linkedin.com/in/adhithya-krishna/><i class="fab fa-linkedin"></i>LinkedIn</a></li><li><a download=adhithya_resume class="padding 20" href=https://adhithyakrishna.github.io/attachments.files/adhithya_resume.pdf><i class="fas fa-download"></i>Download Resume</a></li></ul></section></div><div class=searchBar><h3>Search Articles</h3><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1609344435></script><script type=text/javascript src=/js/auto-complete.js?1609344435></script><script type=text/javascript>var baseurl="https:\/\/adhithyakrishna.github.io\/";</script><script type=text/javascript src=/js/search.js?1609344435></script><section id=tags><section id=shortcuts><ul><li><a class=padding href=https://adhithyakrishna.github.io/tags><i class="fas fa-tags"></i>Search by Tags</a></li></ul></section></section></div><div class=highlightable><section id=Articles><h3>Categories</h3><ul class=topics><li data-nav-id=/important-algorithms/ title=Algorithms class=dd-item><a href=/important-algorithms/><i class="fas fa-code fa-lg"></i>Algorithms</a></li><li data-nav-id=/coding-questions/ title="Coding questions" class="dd-item
parent"><a href=/coding-questions/><i class="fas fa-code fa-lg"></i>Coding questions</a></li><li data-nav-id=/cs-concepts/ title="CS Concepts" class=dd-item><a href=/cs-concepts/><i class="fas fa-code fa-lg"></i>CS Concepts</a></li></ul></section><section id=footer></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span id=toc-menu><i class="fas fa-list-alt"></i></span><span class=links><a href=/>Dev journal</a> > <a href=/coding-questions/>Coding questions</a> > Add characters to make Palindrome KMP</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#problem-statement>Problem statement</a></li><li><a href=#solution>Solution</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=/tags/string>String</a>
<a class=tag-link href=/tags/kmp>KMP</a></div></div><div id=body-inner><hr><h3 id=problem-statement>Problem statement</h3><p>Given a string s, you are allowed to convert it to a palindrome by adding characters in front of it. Find and return the shortest palindrome you can find by performing this transformation.</p><p>Example 1:</p><p>Input: &ldquo;aacecaaa&rdquo;
Output: &ldquo;aaacecaaa&rdquo;
Example 2:</p><p>Input: &ldquo;abcd&rdquo;
Output: &ldquo;dcbabcd&rdquo;</p><h3 id=solution>Solution</h3><p>This problem utilises a part of the KMP algorithm. You can read more about the algorithm here, <a target=_blank href=https://adhithyakrishna.github.io/articles/kmp-pattern-matching/ title="KMP algorithm">KMP algorithm</a>.</p><p>Solving this problem involves a trick, we have to construct the LPS table. This table would help us locate the prefix and suffix in the string, but we are interested in finding out characters that when added to the given string would make it a palindrome.</p><p>To do that, we add a place holder character before the given String, also append the reversed string infront of the current string. This makes sure that, when we traverse after the random place holder character, the LCS table is constructed with the start pointer pointing to the first character and the end pointer is pointing to the character that is right after the place holder character.</p><p>Step 1 : Create a String in a format of Reverse(String) + &ldquo;#&rdquo; + String</p><p>Step 2 : Construct an LPS table for the given string</p><p>Step 3 : The last index in the table would point out the position until which the original string has a common prefix.</p><p>Step 4 : We construct the final result string by reversing and attaching the substring in front of the original string.</p><h5 id=diagram-illustrates-the-construction-of-lcs-table>Diagram illustrates the construction of LCS table</h5><p><img src="../Short-Palindrome-KMP.files/shortPalindrome.jpg?width=50pc" alt="LCS table"></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=color:#66d9ef>public</span> String <span style=color:#a6e22e>shortestPalindrome</span><span style=color:#f92672>(</span>String s<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
	String temp <span style=color:#f92672>=</span> s <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34;#&#34;</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>(</span>s<span style=color:#f92672>).</span><span style=color:#a6e22e>reverse</span><span style=color:#f92672>().</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>();</span>
	<span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> table <span style=color:#f92672>=</span> calculateLPS<span style=color:#f92672>(</span>temp<span style=color:#f92672>);</span>
	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> StringBuilder<span style=color:#f92672>(</span>s<span style=color:#f92672>.</span><span style=color:#a6e22e>substring</span><span style=color:#f92672>(</span>table<span style=color:#f92672>[</span>table<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> 1<span style=color:#f92672>])).</span><span style=color:#a6e22e>reverse</span><span style=color:#f92672>().</span><span style=color:#a6e22e>toString</span><span style=color:#f92672>()</span> <span style=color:#f92672>+</span> s<span style=color:#f92672>;</span>
<span style=color:#f92672>}</span>

<span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> <span style=color:#a6e22e>calculateLPS</span><span style=color:#f92672>(</span>String temp<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
	<span style=color:#66d9ef>int</span><span style=color:#f92672>[]</span> val <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#66d9ef>int</span><span style=color:#f92672>[</span>temp<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>()];</span>

	<span style=color:#66d9ef>int</span> start <span style=color:#f92672>=</span> 0<span style=color:#f92672>;</span>
	<span style=color:#66d9ef>int</span> end <span style=color:#f92672>=</span> 1<span style=color:#f92672>;</span>

	<span style=color:#66d9ef>while</span> <span style=color:#f92672>(</span>end <span style=color:#f92672>&lt;</span> temp<span style=color:#f92672>.</span><span style=color:#a6e22e>length</span><span style=color:#f92672>())</span> <span style=color:#f92672>{</span>
		<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>temp<span style=color:#f92672>.</span><span style=color:#a6e22e>charAt</span><span style=color:#f92672>(</span>start<span style=color:#f92672>)</span> <span style=color:#f92672>==</span> temp<span style=color:#f92672>.</span><span style=color:#a6e22e>charAt</span><span style=color:#f92672>(</span>end<span style=color:#f92672>))</span> <span style=color:#f92672>{</span>
			val<span style=color:#f92672>[</span>end<span style=color:#f92672>]</span> <span style=color:#f92672>=</span> start <span style=color:#f92672>+</span> 1<span style=color:#f92672>;</span>
			start<span style=color:#f92672>++;</span>
			end<span style=color:#f92672>++;</span>
		<span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
			<span style=color:#66d9ef>if</span> <span style=color:#f92672>(</span>start <span style=color:#f92672>&lt;=</span> 0<span style=color:#f92672>)</span> <span style=color:#f92672>{</span>
				end<span style=color:#f92672>++;</span>
			<span style=color:#f92672>}</span> <span style=color:#66d9ef>else</span> <span style=color:#f92672>{</span>
				start <span style=color:#f92672>=</span> val<span style=color:#f92672>[</span>start <span style=color:#f92672>-</span> 1<span style=color:#f92672>];</span>
			<span style=color:#f92672>}</span>
		<span style=color:#f92672>}</span>
	<span style=color:#f92672>}</span>

	<span style=color:#66d9ef>return</span> val<span style=color:#f92672>;</span>
<span style=color:#f92672>}</span>
</code></pre></div><h4 id=complexity>Complexity</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-markdown data-lang=markdown>Time complexity: O(n)
Space complexity: O(n)	
</code></pre></div><hr><footer class=footline><div class=date>Date published : September 12, 2020</h5></footer></div></div><div id=footer></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1609344435></script><script src=/js/perfect-scrollbar.min.js?1609344435></script><script src=/js/perfect-scrollbar.jquery.min.js?1609344435></script><script src=/js/jquery.sticky.js?1609344435></script><script src=/js/featherlight.min.js?1609344435></script><script src=/js/highlight.pack.js?1609344435></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/modernizr.custom-3.6.0.js?1609344435></script><script src=/js/learn.js?1609344435></script><script src=/js/hugo-learn.js?1609344435></script><link href=/mermaid/mermaid.css?1609344435 rel=stylesheet><script src=/mermaid/mermaid.js?1609344435></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>